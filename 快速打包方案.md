# 心水 App - 获取 APK 的三种方法

## 🚀 方法一：自动打包脚本（推荐）

1. **双击运行**：`一键打包APK.bat`
2. **自动完成**：
   - 自动下载 JDK 17
   - 自动解压并配置
   - 自动构建 APK
   - APK 保存为：`心水-v1.0-debug.apk`

**优点**：全自动，无需手动配置环境
**缺点**：需要联网下载 JDK（约 200MB）

---

## 🌐 方法二：在线构建服务（最简单）

### 使用 GitHub Actions

1. **创建 GitHub 仓库**
   - 访问：https://github.com/new
   - 上传项目文件到仓库

2. **创建构建配置**
   - 在仓库根目录创建 `.github/workflows/build.yml`
   - 内容如下：

```yaml
name: Build Android APK

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Set up JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'

    - name: Grant execute permission for gradlew
      run: chmod +x gradlew

    - name: Build with Gradle
      run: ./gradlew assembleDebug

    - name: Upload APK
      uses: actions/upload-artifact@v3
      with:
        name: app-debug
        path: app/build/outputs/apk/debug/app-debug.apk
```

3. **触发构建**
   - 推送代码到 GitHub
   - 访问仓库的 Actions 页面
   - 点击 "Run workflow"
   - 等待构建完成（约 3-5 分钟）

4. **下载 APK**
   - 构建完成后下载 Artifact
   - 文件名：`app-debug.apk`

**优点**：无需本地环境，云端构建
**缺点**：需要 GitHub 账号

---

## 🏗️ 方法三：使用 Android Studio

### 步骤

1. **安装 Android Studio**
   - 下载：https://developer.android.com/studio
   - 完整安装（约 1GB）

2. **打开项目**
   - 启动 Android Studio
   - File > Open
   - 选择 `c:\drink_water` 目录
   - 等待 Gradle 同步完成（首次约 5 分钟）

3. **构建 APK**
   - 菜单：Build > Build Bundle(s) / APK(s) > Build APK(s)
   - 等待构建完成（约 2-3 分钟）
   - 构建完成后点击 "locate" 按钮

4. **APK 位置**
   - `app\build\outputs\apk\debug\app-debug.apk`

**优点**：专业开发工具，可调试
**缺点**：需要下载大型软件（1GB+）

---

## 📦 APK 信息

- **应用名称**：心水
- **包名**：com.drinkwater.app
- **版本**：1.0 (versionCode: 1)
- **最低 SDK**：Android 7.0 (API 24)
- **目标 SDK**：Android 14 (API 34)
- **大小**：约 5-8 MB

---

## 📲 安装到手机

1. **启用未知来源**
   - 设置 > 安全 > 允许安装未知来源应用

2. **传输 APK**
   - USB 数据线
   - 微信/QQ 发送
   - 云盘下载

3. **安装**
   - 点击 APK 文件
   - 按提示完成安装

---

## ⚡ 推荐方案

### 如果有网络：使用方法一（自动脚本）
### 如果有 GitHub：使用方法二（在线构建）
### 如果要长期开发：使用方法三（Android Studio）

---

## 🆘 常见问题

### 方法一失败
- 检查网络连接
- 手动下载 JDK: https://adoptium.net/
- 设置 JAVA_HOME 环境变量

### 方法二失败
- 确保 GitHub 仓库是公开的
- 检查 workflow 文件路径是否正确

### 方法三失败
- 检查磁盘空间（至少 3GB）
- 确保网络连接正常
- 重启 Android Studio

---

## 📞 技术支持

如遇到问题，请检查：
1. `gradlew.bat` 是否存在
2. `app/build.gradle.kts` 配置是否正确
3. `local.properties` 中 SDK 路径是否正确
